From f52e2a1d383121e71791f72a7172b98016bb5884 Mon Sep 17 00:00:00 2001
From: Cole Robinson <crobinso@redhat.com>
Date: Mon, 17 Feb 2014 10:24:41 -0500
Subject: [PATCH] create: Fix non-x86 qemu/kvm guest creation

(cherry picked from commit a37b200f69347922800d58342968307b74ec9ded)
---
 virtManager/create.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/virtManager/create.py b/virtManager/create.py
index d8e68c3..f1c57b7 100644
--- a/virtManager/create.py
+++ b/virtManager/create.py
@@ -1376,7 +1376,8 @@ class vmmCreate(vmmGObjectUI):
 
             guest.add_default_devices()
 
-            if self.conn.check_support(self.conn.SUPPORT_CONN_PM_DISABLE):
+            if (guest.os.is_x86() and
+                self.conn.check_support(self.conn.SUPPORT_CONN_PM_DISABLE)):
                 guest.pm.suspend_to_mem = False
                 guest.pm.suspend_to_disk = False
 
