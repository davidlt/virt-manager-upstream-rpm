From f64c0b37e9cf986b912f6a87b5fa575cd5e616dd Mon Sep 17 00:00:00 2001
From: Cole Robinson <crobinso@redhat.com>
Date: Thu, 6 Mar 2014 11:45:26 -0500
Subject: [PATCH] fsdetails: Fix adding a filesystem device (bz 1073067)

(cherry picked from commit 9074fc6c6080cf650cf97457dda799700ee2b635)
---
 virtManager/fsdetails.py | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/virtManager/fsdetails.py b/virtManager/fsdetails.py
index b4d991a..cc9fa19 100644
--- a/virtManager/fsdetails.py
+++ b/virtManager/fsdetails.py
@@ -158,8 +158,9 @@ class vmmFSDetails(vmmGObjectUI):
                                          rowindex=0, check_visible=True)
 
     def get_config_fs_readonly(self):
-        return uiutil.get_list_selection(self.widget("fs-readonly"),
-                                         rowindex=0, check_visible=True)
+        if not self.widget("fs-readonly").is_visible():
+            return None
+        return self.widget("fs-readonly").get_active()
 
     def get_config_fs_driver(self):
         return uiutil.get_list_selection(self.widget("fs-driver-combo"),
