From 86ab2026d7f73bfdfc1f348616338fd47e421e43 Mon Sep 17 00:00:00 2001
From: Cole Robinson <crobinso@redhat.com>
Date: Mon, 9 Sep 2013 10:50:56 -0400
Subject: [PATCH] addhw: disk cache default should be 'default' not 'none'

(cherry picked from commit b6c078ad75684eae3b563c4f8f8ab965a57fdd78)
---
 virtManager/uihelpers.py | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

diff --git a/virtManager/uihelpers.py b/virtManager/uihelpers.py
index ff254ab..52180c9 100644
--- a/virtManager/uihelpers.py
+++ b/virtManager/uihelpers.py
@@ -344,7 +344,7 @@ def populate_netmodel_combo(vm, combo):
             model.append([m, m])
 
 
-def build_cache_combo(vm, combo, no_default=False):
+def build_cache_combo(vm, combo):
     ignore = vm
     dev_model = Gtk.ListStore(str, str)
     combo.set_model(dev_model)
@@ -357,9 +357,8 @@ def build_cache_combo(vm, combo, no_default=False):
     for m in virtinst.VirtualDisk.cache_types:
         dev_model.append([m, m])
 
-    if not no_default:
-        dev_model.append([None, "default"])
-    combo.set_active(0)
+    dev_model.append([None, "default"])
+    combo.set_active(len(dev_model) - 1)
 
 
 def build_io_combo(vm, combo, no_default=False):
