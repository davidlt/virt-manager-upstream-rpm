From 6ac3a18d533897dbf12a8d8d300b71ed2f863c2e Mon Sep 17 00:00:00 2001
From: Cole Robinson <crobinso@redhat.com>
Date: Wed, 30 Apr 2014 15:54:00 -0400
Subject: [PATCH] engine: Show error if launching delete dialog fails

(cherry picked from commit f35438a01bbf3ba54b4e448d14e7981110a74f08)
---
 virtManager/engine.py | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

diff --git a/virtManager/engine.py b/virtManager/engine.py
index e41c829..396cdc7 100644
--- a/virtManager/engine.py
+++ b/virtManager/engine.py
@@ -1149,6 +1149,9 @@ class vmmEngine(vmmGObject):
         conn = self._lookup_conn(uri)
         vm = conn.get_vm(uuid)
 
-        if not self.delete_dialog:
-            self.delete_dialog = vmmDeleteDialog()
-        self.delete_dialog.show(vm, src.topwin)
+        try:
+            if not self.delete_dialog:
+                self.delete_dialog = vmmDeleteDialog()
+            self.delete_dialog.show(vm, src.topwin)
+        except Exception, e:
+            src.err.show_err(_("Error launching delete dialog: %s") % str(e))
